package com.zdyb.module_diagnosis.help

import com.zdeps.gui.ConnDevices

object BottomDeviceCmd {



    /**
     * 让下位机停止与ECU通讯，停止与APP通讯
     */
    fun closeBottomDevice(){
        println("bottom停止通讯")
        val data1 = byteArrayOf(
            0xA5.toByte(),
            0xA5.toByte(),0x00 ,0x2F, 0x10, 0x01 ,0x03,
            0xD0.toByte(),
            0x90.toByte(),0x02 ,0x7F, 0x03, 0x11, 0x04 ,0x00 ,0x00 ,0x00 ,0x00 ,0x05 ,0x00, 0x00, 0x07 ,
            0xE0.toByte(),0x06 ,0x00 ,0x00 ,0x00 ,0x00 ,0x07 ,0x00 ,0x00 ,0x00 ,0x00 ,0x08 ,0x00 ,0x00 ,
            0x00 ,0x00 ,0x09 ,0x00 ,0x00 ,0x0A, 0x00, 0x00, 0x0B ,0x00 ,0x00 ,0x0C ,
            0xE6.toByte(),0x0F ,0x12 ,0x55)

        ConnDevices.sendData(data1)
        ConnDevices.timedReadsData(200)
        ConnDevices.purge()

        val data2 = byteArrayOf(
            0xA5.toByte(),
            0xA5.toByte(), 0x00, 0x2F, 0x10, 0x01, 0x03,
            0xD0.toByte(),
            0x90.toByte(), 0x02, 0x7F, 0x03, 0x11, 0x04, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x07,
            0xE0.toByte(), 0x06, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00,
            0x00, 0x00, 0x09, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x0B, 0x00, 0x00, 0x0C,
            0xE6.toByte(), 0x0F, 0x12, 0x55)
        ConnDevices.sendData(data2)
        ConnDevices.timedReadsData(200)
        ConnDevices.purge()
    }
}